# Database Schema Overview

This document describes all Prisma models (tables) and their fields.

### Table: rooms
- id: Int
- name: String
- is_active: Boolean
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- bookings: room_bookings[]

### Table: room_bookings
- id: Int
- room_id: Int
- room: rooms
- title: String
- description: String?
- start_time: DateTime
- end_time: DateTime
- organizer_id: Int
- organizer: users
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: education
- id: Int
- user_id: Int
- user: users
- name: String
- major: String
- description: String
- start_date: DateTime
- end_date: DateTime
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: experience
- id: Int
- user_id: Int
- user: users
- job_title: String
- company: String
- start_date: DateTime
- end_date: DateTime
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: divisions
- id: Int
- name: String
- type: DivisionType?
- status: DivisionStatus?
- address: String?
- parent_id: Int?
- parent: divisions?
- children: divisions[]
- founding_at: DateTime
- description: String?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- user_division: user_division[]
- rotation_member: rotation_members[]
- projects: projects[]
- teams: teams[]

### Table: levels
- id: Int
- name: String
- coefficient: Float
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- user_information: user_information[]

### Table: migrations
- id: Int
- migration: String
- batch: Int

### Table: permissions
- id: Int
- name: String
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- permission_role: permission_role[]

### Table: positions
- id: Int
- name: String
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- user_information: user_information[]
- skills: skills[]

### Table: roles
- id: Int
- name: String
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- permission_role: permission_role[]
- user_role_assignment: user_role_assignment[]

### Table: skills
- id: Int
- name: String
- position_id: Int
- position: positions
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- user_skills: user_skills[]

### Table: user_information
- id: Int
- user_id: Int
- user: users
- personal_email: String?
- nationality: String?
- name: String?
- code: String?
- avatar: String?
- gender: String?
- marital: String?
- birthday: DateTime?
- position_id: Int?
- position: positions?
- address: String?
- temp_address: String?
- phone: String?
- tax_code: String?
- status: UserInformationStatus
- level_id: Int?
- level: levels?
- expertise: String?
- language_id: Int?
- language: languages?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: languages
- id: Int
- name: String
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- user_information: user_information[]

### Table: user_skills
- id: Int
- skill_id: Int
- skill: skills
- user_id: Int
- user: users
- experience: Int
- months_experience: Int
- is_main: Boolean
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: activity_log
- id: Int
- log_name: String
- description: String
- subject_type: String
- event: String
- subject_id: Int
- subject: users
- causer_type: String
- causer_id: Int
- causer: users
- properties: Json
- created_at: DateTime
- updated_at: DateTime

### Table: files
- id: Int
- name: String
- path: String
- mime_type: String
- type: Int
- fileable_id: Int
- fileable_type: String
- created_at: DateTime
- updated_at: DateTime

### Table: permission_role
- id: Int
- permission_id: Int
- permission: permissions
- role_id: Int
- role: roles
- created_at: DateTime
- updated_at: DateTime

### Table: daily_reports
- id: Int
- user_id: Int
- user: users
- project_id: Int
- project: projects
- title: String?
- work_date: DateTime
- actual_time: Float
- status: ApprovalStatus?
- approved_by: Int?
- approved_by_user: users?
- reviewed_at: DateTime?
- description: String?
- reject_reason: String?
- created_at: DateTime
- updated_at: DateTime

### Table: otp_codes
- id: Int
- email: String
- code: String
- type: OtpType
- expires_at: DateTime
- is_used: Boolean
- created_at: DateTime
- updated_at: DateTime

### Table: projects
- id: Int
- name: String
- code: String
- status: ProjectStatus
- division_id: Int?
- division: divisions?
- team_id: Int?
- team: teams?
- project_type: ProjectType?
- industry: IndustryType?
- progress: Float?
- scope: String?
- description: String?
- start_date: DateTime
- end_date: DateTime
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- daily_reports: daily_reports[]
- over_times_history: over_times_history[]

### Table: users
- id: Int
- email: String
- email_verified_at: DateTime
- password: String?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- education: education[]
- experience: experience[]
- user_information: user_information?
- user_skills: user_skills[]
- rotation_members: rotation_members[]
- user_division: user_division[]
- attendance_logs: attendance_logs[]
- attendance_sessions: attendance_sessions[]
- day_offs: day_offs[]
- approved_by_user: day_offs[]
- time_sheets: time_sheets[]
- daily_reports: daily_reports[]
- activity_log_subject: activity_log[]
- activity_log_causer: activity_log[]
- remote_work_requests: remote_work_requests[]
- approved_remote_work_requests: remote_work_requests[]
- over_times_history_approved: over_times_history[]
- over_times_history_subject: over_times_history[]
- user_leave_balance: user_leave_balances?
- leave_transactions: leave_transactions[]
- late_early_requests: late_early_requests[]
- approved_late_early_requests: late_early_requests[]
- forgot_checkin_requests: forgot_checkin_requests[]
- approved_forgot_checkin_requests: forgot_checkin_requests[]
- assigned_assets: assets[]
- created_assets: assets[]
- asset_requests: asset_requests[]
- approved_asset_requests: asset_requests[]
- authored_news: news[]
- reviewed_news: news[]
- created_notifications: notifications[]
- user_notifications: user_notifications[]
- room_bookings_organized: room_bookings[]
- user_role_assignments: user_role_assignment[]
- assigned_role_assignments: user_role_assignment[]
- daily_report_approver: daily_reports[]

### Table: day_offs
- id: Int
- user_id: Int
- user: users
- work_date: DateTime
- duration: DayOffDuration
- status: DayOffStatus
- type: DayOffType
- title: String
- reason: String?
- approved_by: Int?
- approved_by_user: users?
- approved_at: DateTime?
- rejected_reason: String?
- is_past: Boolean
- balance_deducted: Boolean
- deduction_transaction_id: Int?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- time_sheets: time_sheets[]
- leave_transactions: leave_transactions[]

### Table: holidays
- id: Int
- name: String
- type: HolidayType
- status: HolidayStatus
- start_date: DateTime
- end_date: DateTime
- description: String?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: time_sheets
- id: Int
- user_id: Int
- user: users
- work_date: DateTime
- type: TimesheetType?
- status: ApprovalStatus?
- checkin: DateTime?
- checkout: DateTime?
- checkin_checkout: String?
- work_time_morning: Int?
- work_time_afternoon: Int?
- total_work_time: Int?
- break_time: Int?
- late_time: Int?
- late_time_approved: Int?
- early_time: Int?
- early_time_approved: Int?
- remote: RemoteType?
- day_off_id: Int?
- day_off: day_offs?
- has_forgot_checkin_request: Boolean?
- has_late_early_request: Boolean?
- has_remote_work_request: Boolean?
- forgot_checkin_approved: Boolean?
- late_early_approved: Boolean?
- remote_work_approved: Boolean?
- is_complete: Boolean?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- attendance_logs: attendance_logs[]
- attendance_sessions: attendance_sessions[]
- late_early_requests: late_early_requests[]
- forgot_checkin_requests: forgot_checkin_requests[]
- remote_work_requests: remote_work_requests[]

### Table: attendance_sessions
- id: Int
- user_id: Int
- user: users
- timesheet_id: Int?
- timesheet: time_sheets?
- work_date: DateTime
- session_type: SessionType
- checkin_time: DateTime?
- checkout_time: DateTime?
- duration: Int?
- is_open: Boolean
- location_type: LocationType?
- checkin_photo: String?
- checkout_photo: String?
- note: String?
- status: ApprovalStatus?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- attendance_logs: attendance_logs[]

### Table: attendance_logs
- id: Int
- user_id: Int
- user: users
- timesheet_id: Int?
- timesheet: time_sheets?
- session_id: Int?
- session: attendance_sessions?
- action_type: String
- timestamp: DateTime
- work_date: DateTime
- location_type: LocationType?
- photo_url: String?
- note: String?
- itempodency_key: String?
- is_manual: Boolean
- status: ApprovalStatus?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: schedule_works
- id: Int
- start_date: DateTime
- end_date: DateTime
- hour_start_morning: DateTime
- hour_end_morning: DateTime
- hour_start_afternoon: DateTime
- hour_end_afternoon: DateTime
- type: WorkShiftType?
- name: String?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: rotation_members
- id: Int
- division_id: Int
- division: divisions
- user_id: Int
- user: users
- type: RotationType
- date_rotation: DateTime
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: over_times_history
- id: Int
- user_id: Int
- user: users
- work_date: DateTime
- title: String
- start_time: DateTime
- end_time: DateTime
- total_hours: Float?
- hourly_rate: Float?
- total_amount: Float?
- project_id: Int?
- project: projects?
- reason: String?
- status: ApprovalStatus?
- approved_by: Int?
- approved_by_user: users?
- approved_at: DateTime?
- rejected_reason: String?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: over_times
- id: Int
- type: Int?
- start_first_shift: DateTime
- end_first_shift: DateTime
- first_coefficient: Float?
- start_second_shift: DateTime
- end_second_shift: DateTime
- second_coefficient: Float?
- start_third_shift: DateTime
- end_third_shift: DateTime
- third_coefficient: Float?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: user_division
- id: Int
- userId: Int
- user: users
- divisionId: Int?
- division: divisions?
- teamId: Int?
- team: teams?
- description: String?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: user_role_assignment
- id: Int
- user_id: Int
- role_id: Int
- scope_type: ScopeType
- scope_id: Int?
- assigned_by: Int
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- user: users
- role: roles
- assigner: users

### Table: teams
- id: Int
- name: String
- division_id: Int?
- division: divisions?
- founding_date: DateTime?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- user_division: user_division[]
- projects: projects[]

### Table: assets
- id: Int
- name: String
- description: String?
- asset_code: String
- category: AssetCategory
- brand: String?
- serial_number: String?
- purchase_date: DateTime?
- purchase_price: Float?
- warranty_end_date: DateTime?
- location: String?
- status: AssetStatus
- assigned_to: Int?
- assigned_user: users?
- assigned_date: DateTime?
- notes: String?
- created_by: Int
- creator: users
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- asset_requests: asset_requests[]

### Table: asset_requests
- id: Int
- user_id: Int
- user: users
- asset_id: Int?
- asset: assets?
- request_type: AssetRequestType
- category: AssetCategory
- description: String
- justification: String
- expected_date: DateTime?
- status: AssetRequestStatus
- approved_by: Int?
- approver: users?
- approved_at: DateTime?
- rejection_reason: String?
- fulfilled_at: DateTime?
- notes: String?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: remote_work_requests
- id: Int
- user_id: Int
- user: users
- work_date: DateTime
- remote_type: RemoteType
- duration: DayOffDuration
- title: String
- reason: String?
- status: ApprovalStatus
- approved_by: Int?
- approved_by_user: users?
- approved_at: DateTime?
- rejected_reason: String?
- timesheet_id: Int?
- timesheet: time_sheets?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: user_leave_balances
- id: Int
- user_id: Int
- user: users
- paid_leave_balance: Float
- unpaid_leave_balance: Float
- annual_paid_leave_quota: Float
- carry_over_days: Float
- last_reset_date: DateTime?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: leave_transactions
- id: Int
- user_id: Int
- user: users
- transaction_type: LeaveTransactionType
- leave_type: DayOffType
- amount: Float
- balance_after: Float
- day_off_id: Int?
- day_off: day_offs?
- description: String?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: late_early_requests
- id: Int
- user_id: Int
- user: users
- work_date: DateTime
- request_type: LateEarlyType
- title: String
- late_minutes: Int?
- early_minutes: Int?
- reason: String
- status: ApprovalStatus
- approved_by: Int?
- approved_by_user: users?
- approved_at: DateTime?
- rejected_reason: String?
- timesheet_id: Int?
- timesheet: time_sheets?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: forgot_checkin_requests
- id: Int
- user_id: Int
- user: users
- work_date: DateTime
- checkin_time: DateTime?
- checkout_time: DateTime?
- title: String
- reason: String
- status: ApprovalStatus
- approved_by: Int?
- approved_by_user: users?
- approved_at: DateTime?
- rejected_reason: String?
- timesheet_id: Int?
- timesheet: time_sheets?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: notifications
- id: Int
- title: String
- content: String
- news_id: Int?
- news: news?
- created_by: Int?
- creator: users?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- user_notifications: user_notifications[]

### Table: user_notifications
- id: Int
- notification_id: Int
- notification: notifications
- user_id: Int
- user: users
- is_read: Boolean
- read_at: DateTime?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?

### Table: news
- id: Int
- title: String
- content: String
- status: NewsStatus
- author_id: Int
- author: users
- reason: String?
- reviewer_id: Int?
- reviewer: users?
- reviewed_at: DateTime?
- created_at: DateTime
- updated_at: DateTime
- deleted_at: DateTime?
- notifications: notifications[]

